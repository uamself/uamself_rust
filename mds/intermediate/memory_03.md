# 内存(memory) todo

## 物理内存与虚拟内存

**内存**是计算机一个重要的概念，不同的语言对内存的管理不同，有**手动管理内存**和**自动管理内存**的两种方式，这也就导致不同语言直接的性能不同。早期的计算机程序都是直接跑在物理内存上的，这就要求程序大小不能超过物理内存的上限。现代计算机为提高CPU使用率、并发执行多个程序、隔离程序间内存地址、打破物理内存上限，采用虚拟内存机制来运行程序。

**物理内存**就是我们常说的内存条。而**虚拟内存**仅仅是一个概念。对于任何一个程序来说，它包含了程序运行时可用的内存空间总和，包括共享的、非共享的、物理内存中的、存在分页中的等等。简单点说：虚拟内存映射 = 物理空间 + 硬盘空间 + 未使用的映射。

虚拟内存大小组成的地址空间就是虚拟内存空间，虚拟内存空间是有地址空间的。这就引出另一个概念——**虚拟地址空间**。虚拟地址空间是线性的，我们所接触的地址都是虚拟地址。虚拟地址空间又被划分为**内核空间**和**用户空间**。以 4G 内存为例，在 `Windows 32`位操作系统中默认内核空间和用户空间的比例是`1:1` (2GB的内核空间，2GB的用户空间），而在`32位Linux`系统中默认的比例是`1:3` (1GB的内核空间，3GB的用户空间）寻址范围是 0x00000000 - 0xFFFFFFFF。讲了这么多，下面直接看图吧。
