# variables

## 命名规范

Rust变量名可以由字母，数字或者下划线组成。同时还有以下2个限制条件：

* 不能以数字开头
* 字母区分大小写

PS：关于下划线，在Rust中是一种标识符，代表“忽略这个变量”;

## 不可变变量



在Rust中是通过`let`关键字来声明变量的，变量遵循先声明后使用的原则。

默认声明的变量是不可变的;

```rust
fn main() {
    // 每次声明变量时，注意变量命名规范
    // 声明整数
    let a = 5;

    // 布尔值
    let b1= true;

    // 字符串
    let _c = "zhangsan";

    // 浮点数
    let d_1 = 123.3;

    dbg!(a);
    dbg!(b1);
    dbg!(_c);
    dbg!(d_1);
}
```

## 可变变量

使用 `mut` 关键字标记的变量是可变的;

```rust
let mut x = 54;
x = 68;
```

## 变量遮蔽


在Rust中，允许在同一代码块中使用`let`关键字多次声明同名变量，如果多次声明同一变量，则后者会覆盖前者的值，因此前者的值将无法再去访问，多次覆盖则以最后一次的值为准——这就是变量遮蔽，有时也叫做变量重定义。

```rust
    // 变量遮蔽
    let m = 1;
    let m = 2.3;
    let m = "张三";
    let mut m = 4;
    let m = 5;
    dbg!(m);      //[src\main.rs:37] m = 5
```


## 常量

常量是指绑定到一个标识符且不允许改变的值，其一旦定义后将没有任何方法能够改变它。

它还有一个非常重要的特点——常量会在编译时被复制到使用的地方。当然，这种复制也会发生在外部包被编译的场合。其声明语法如下：

* 使用`const`关键字声明
* 常量的名称通常都是全部采用大写字母，如遇到多单词组合，则使用下划线分割，如：MIN\_VALUE
* 必须指定变量的数据类型（关于数据类型将在下节介绍）

```rust
// 命名规则：变量名全部大写
// 多单词组合使用下划线分割，如：MIN_VALUE
// 必须指定变量的数据类型
// const PI = 3.141592653; [X] 错误写法
const PI : f64 = 3.141592653;
```


## 静态变量

静态变量和常量很相似，但是在一个程序中，静态变量拥有精确固定的内存地址，对于静态变量的所有引用都指向相同的内存地址。静态变量也存在生命周期，但是其生命周期在程序中是最长的。静态变量不会在程序结束时调用`drop`函数。

静态变量是可以用`mut`来修饰的，一旦静态变量可变，就会出现多线程同时访问的场景，从而引发内存不安全的问题，因此对于`static mut`声明的变量必须在`unsafe`块中进行定义。




静态变量和常量的应用场景：

* 数据占有内存比较大的场合，推荐使用静态变量。
* 程序需要变量的地址属性的情况下，推荐使用静态变量。
* 变量需要是可变的情况下，推荐使用静态变量。
* 其它场景常量优于静态变量。
